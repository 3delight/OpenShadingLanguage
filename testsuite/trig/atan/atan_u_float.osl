#ifndef M_PI
#define M_PI 3.14159265358979
#endif

//testshade --batched --llvm_debug -g 4 4 test_aatan2_w16f_w16f_w16f -o res a.tif | grep o

shader
atan_u_float (output color res = 0,
			   output color res_m = 0)
{
    
        float a = -M_PI;
        float b = 1.0/(2*raytype("camera"));
        float r = atan(b);
        res = color (r);
        
        float res_m_ = 0.0;

if (int(P[0]*200)%2){

    b = 1.0/(3*raytype("camera"));
    res_m_ = atan(b);

}

res_m = res_m_;

}
