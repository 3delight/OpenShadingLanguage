//testshade --batched --llvm_debug -g 400 400 test_sincos_w16v_w16v_w16v -od uint8 
//-o sinop a.tif -o cosop b.tif -o msinop ma.tif -o mcosop mb.tif | grep osl

shader test_sincos_w16v_w16v_w16v (output vector sinop = 0, 
                                    output vector cosop = 0,
                                    
                                    output vector msinop = 0,
                                    output vector mcosop = 0)
{
    
    vector a = vector (u+v, u-v, u+v);
    
    float sinop_ = 0.0;
    float cosop_ = 0.0;
    
   
    sincos(vector(u-v, u+v, -u-v), sinop_, cosop_);
           
    if(int(P[0]*200)%2)
{
       a = vector(u-v, -v+u, u);
       sincos(a, msinop, mcosop);
}
    sinop = sinop_;
    cosop = cosop_;
}
