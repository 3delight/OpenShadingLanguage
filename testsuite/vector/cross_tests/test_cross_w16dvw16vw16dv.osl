shader test_cross_w16dvw16vw16dv (output color dcross = 0,
				  output color dxcross = 0,
				  output color dycross = 0)
//testshade --batched --llvm_debug -g 4 4 test_dot_w16dfw16dvw16v | grep osl_dot
{
//testshade -g 200 200 test_cross_w16dvw16vw16dv -od uint8 -o dcross dcross_w16dvw16vw16dv_ref.tif -o dxcross_w16dvw16vw16dv_ref.tif -o dycross dycross_w16dvw16vw16dv_ref.tif

if(P[0]>0.5){
           vector a = vector(1.0, 1.0, 1.0);
           vector b = vector(u+v, -u-v, u+v);
          // vector b = vector(u+v,  u+v, u+v);
          // vector b = vector(1.0, 1.0, 1.0);
           vector d = cross(a, b);
          // printf ("\n");
          // printf ("cross product: d = cross(%.4g, %.4g) = %.4g  Dx(d) = %.4g  Dy(d) = %.4g\n",
          //       a, b, d, Dx(d), Dy(d));


          dcross = cross(a,b);
          dxcross = Dx(dcross);
          dycross = Dy(dcross);
}
}
